<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="author" content="Gionata Massi">
<title>Simulazione Esame di Stato: Consorzio del formaggio</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="article">
<div id="header">
<h1>Simulazione Esame di Stato: Consorzio del formaggio</h1>
<div class="details">
<span id="author" class="author">Gionata Massi</span><br>
<span id="email" class="email"><a href="mailto:gionata.massi@savoiabenincasa.it">gionata.massi@savoiabenincasa.it</a></span><br>
<span id="revdate">2022-02-15</span>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_problema">Problema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Il Consorzio di un Formaggio Tipico riunisce più di 400 produttori, sparsi nella zona di produzione. Il Consiglio del Consorzio decide di operare un forte rinnovamento tecnologico al duplice scopo di monitorare al meglio la raccolta di latte e la produzione del formaggio, nonché avere un sito di riferimento che permetta al pubblico di cercare, identificare e "visitare" virtualmente i vari caseifici. A tale scopo intende realizzare un sistema informativo automatizzato che, per ogni caseificio, raccolga giornalmente i dati relativi alla quantità di latte lavorata, a quella impiegata nella produzione di formaggio, alla quantità di forme prodotte e al numero di quelle vendute. Per ciascuna forma venduta interessa conoscere la stagionatura raggiunta (12, 24, 30 o 36 mesi), nome e tipo dell&#8217;acquirente (grande distribuzione, grossisti, ecc.) e se è di prima o di seconda scelta (forma con difetti di produzione). Tali informazioni vengono inserite direttamente dai caseifici a fine giornata, mediante accesso ad un&#8217;area riservata dell&#8217;interfaccia Web del sito del consorzio. Ciascun caseificio ha un codice numerico di 4 cifre col quale vengono marchiate le forme, sulle quali viene anche apposta la data di produzione (mese ed anno) ed il numero progressivo all&#8217;interno del mese. Il Consorzio è anche interessato a registrare le informazioni relative ai luoghi di produzione, a partire dal nome, indirizzo, dati di geolocalizzazione, nome del titolare, ed una serie di fotografie del caseificio per realizzare un "tour virtuale".</p>
</div>
<div class="sect2">
<h3 id="_prima_parte">Prima parte</h3>
<div class="paragraph">
<p>Fatte le opportune ipotesi aggiuntive, si sviluppi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un&#8217;analisi della realtà di riferimento individuando le possibili soluzioni e si scelga quella più idonea a rispondere alle specifiche indicate;</p>
</li>
<li>
<p>il glossario di progetto;</p>
</li>
<li>
<p>lo schema concettuale della base di dati rappresentato dal diagramma delle classi di analisi indicante tutte le entità, le associazioni, gli attributi e le cardinalità;</p>
</li>
<li>
<p>lo schema logico della base comprensivo della descrizione delle relazioni, del tipo degli attributi, dei vincoli referenziali, di quelli di dominio e quelli intra-relazionali;</p>
</li>
<li>
<p>lo schema logico normalizzato, se diverso da quello sviluppato al punto precedente;</p>
</li>
<li>
<p>la definizione in linguaggio SQL delle relazioni della base di dati comprensive di vincoli di integrità referenziale e vincoli di dominio;</p>
</li>
<li>
<p>le seguenti interrogazioni espresse in linguaggio SQL:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Visualizzare il numero di forme prodotte da ciascun caseificio tra due date fornite;</p>
</li>
<li>
<p>Visualizzare la media del latte lavorato giornalmente nell&#8217;anno corrente dai caseifici provincia per provincia;</p>
</li>
<li>
<p>Visualizzare i dati del caseificio che ha venduto il maggior numero di forme di prima scelta in un anno impostato dall&#8217;utente</p>
</li>
<li>
<p>Visualizzare l&#8217;elenco dei caseifici che, in un certo periodo individuato da due date fornite dall&#8217;utente, hanno venduto meno di 10 forme di seconda scelta;</p>
</li>
</ol>
</div>
</li>
<li>
<p>il progetto della Home page dell&#8217;interfaccia WEB che si intende proporre per la gestione del DataBase e delle gallerie di immagini dei luoghi di produzione;</p>
</li>
<li>
<p>la codifica in un linguaggio a scelta di un segmento significativo dell&#8217;applicazione Web che consente l&#8217;interazione con la base di dati.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_seconda_parte">Seconda parte</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In relazione al tema proposto nella prima parte, si indichi come si intende affrontare la gestione degli accessi riservati agli operatori dei caseifici per lo svolgimento delle loro funzioni.</p>
</li>
<li>
<p>In relazione al tema proposto nella prima parte, sviluppi la query SQL per calcolare la percentuale di forme di seconda scelta prodotte annualmente da un certo caseificio (sul totale delle forme da lui prodotte annualmente).</p>
</li>
<li>
<p>Si illustri, anche servendosi di esempi, il concetto di <em>vista</em> in una base di dati.</p>
</li>
<li>
<p>Si descrivano le tipologie di linguaggi utilizzate in un DBMS.</p>
</li>
</ol>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Tratto da <a href="https://online.scuola.zanichelli.it/provatecnici/wp-content/uploads/Zanichelli_Soluzione_Simulazione_2Prova_Informatica.pdf">una simulazione dell&#8217;Esame di Stato</a></p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_soluzione">Soluzione</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_progettazione_concettuale">Progettazione concettuale</h3>
<div class="sect3">
<h4 id="_glossario_di_progetto">Glossario di progetto</h4>

</div>
<div class="sect3">
<h4 id="_schema_concettuale_diagramma_delle_classi">Schema concettuale - diagramma delle classi</h4>
<div class="imageblock">
<div class="content">
<img src="class-diagram.png" alt="class diagram" width="784" height="1057">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_schema_logico_relazionale">Schema logico (relazionale)</h3>
<div class="paragraph">
<p><code>Provincia</code> (
  <strong>sigla</strong>: TEXT
, nome: TEXT
)</p>
</div>
<div class="paragraph">
<p><code>Comune</code> (
  <strong>codice</strong>: TEXT
, comune: TEXT
, <em>provincia</em>: TEXT &#8594; Provincia(sigla)
)</p>
</div>
<div class="paragraph">
<p><code>Caseificio</code> (
  <strong>codice</strong>: INTEGER
, nome: TEXT
, indirizzo: TEXT
, <em>comune</em>: TEXT &#8594; Comune(codice)
, latitudine: REAL
, longitudine: REAL
, titolare: TEXT
)</p>
</div>
<div class="paragraph">
<p><code>Fotografia</code> (
  <strong>codice</strong>: INTEGER
, <em>codiceCaseificio</em>: INTEGER &#8594; Caseificio(codice)
, percorso: TEXT
)</p>
</div>
<div class="paragraph">
<p><code>Raccolta</code> (
  <strong><em>codice</em></strong>: INTEGER &#8594; Caseificio(codice)
, <strong>data</strong>: TEXT
, quantita: REAL
)</p>
</div>
<div class="paragraph">
<p><code>Forma</code> (
  <strong>codice</strong>: INTEGER
, <em>codiceCaseificio</em>: INTEGER &#8594; Caseificio(codice)
, data: TEXT
, quantitaLatte: REAL
, progressivo: INTEGER
)</p>
</div>
<div class="paragraph">
<p><code>Acquirente</code> (
  <strong>nome</strong>: TEXT
, tipo: TEXT
)</p>
</div>
<div class="paragraph">
<p><code>Vendita</code> (
  <strong><em>codiceForma</em></strong>: INTEGER &#8594; Forma(codice)
, <em>acquirente</em>: TEXT &#8594; Acquirente(nome)
, data: TEXT
, scelta: INTEGER
, stagionatura: INTEGER
)</p>
</div>
</div>
<div class="sect2">
<h3 id="_sql">SQL</h3>
<div class="paragraph">
<p>Su <a href="https://it.khanacademy.org/computer-programming/consorzio-del-formaggio/4627924041908224">Khan Academy</a></p>
</div>
<div class="sect3">
<h4 id="_ddl_creazione_dello_schema">DDL - Creazione dello schema</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">--
-- Schema (DDL)
--
BEGIN TRANSACTION;

--!
--! Provincia
--! 
CREATE TABLE Provincia (
    --! sigla automobilistica della provincia
    sigla TEXT PRIMARY KEY
        CHECK (
		LENGTH(sigla) = 2
	       	OR sigla = 'BAT'
	       	OR 'ROMA'),
    nome TEXT);

--!
--! Comune
--! 
CREATE TABLE Comune (
    --! codice catastale del comune
    codice TEXT PRIMARY KEY
		CHECK(LENGTH(codice) = 4),
    comune TEXT,
    provincia TEXT
		REFERENCES Provincia(sigla),
    UNIQUE(comune, provincia)
);

--!
--! Caseificio
--! 
CREATE TABLE Caseificio (
    codice INTEGER PRIMARY KEY
		CHECK (codice BETWEEN 0 AND 9999),
    nome TEXT NOT NULL,
    indirizzo TEXT,
    comune TEXT REFERENCES Comune(codice),
    latitudine REAL
		CHECK(latitudine BETWEEN 35 AND 47),
    longitudine REAL
		CHECK(longitudine BETWEEN 6 AND 19),
    titolare TEXT
);

--!
--! Fotografia
--! 
CREATE TABLE Fotografia (
    codice INTEGER PRIMARY KEY,
    codiceCaseificio INTEGER
		REFERENCES Caseificio(codice),
    percorso TEXT NOT NULL UNIQUE
);

--!
--! Raccolta
--! 
CREATE TABLE Raccolta (
    codice INTEGER
		REFERENCES Caseificio(codice),
    data TEXT,
    quantita REAL CHECK(quantita &gt;= 0),
    PRIMARY KEY(codice, data)
);

--!
--! Forma
--! 
CREATE TABLE Forma (
    codice INTEGER PRIMARY KEY,
    codiceCaseificio INTEGER
		REFERENCES Caseificio(codice),
    data TEXT,
    quantitaLatte REAL DEFAULT 10
		CHECK(quantitaLatte &gt;= 0),
    progressivo INTEGER
    -- non si può inserire un vincolo UNIQUE(substr(data,1, 4) || substr(data, 6, 2) || progressivo)
    -- si usa un trigger
);

--!
--! Acquirente
--! 
CREATE TABLE Acquirente (
    nome TEXT PRIMARY KEY,
    tipo TEXT
		CHECK (tipo IN (
			'grande distribuzione',
			'grossista',
			'privato'))
);

--!
--! Vendita
--! 
CREATE TABLE Vendita (
    codiceForma INTEGER
    PRIMARY KEY
	REFERENCES Forma(codice),
    acquirente TEXT
      REFERENCES Acquirente(nome),
    data TEXT,
    scelta INTEGER
		CHECK(scelta BETWEEN 1 AND 2),
    stagionatura INTEGER
		CHECK(stagionatura in (
				12,
				24,
				30,
				36))
);

--!
--! Vincolo di unicità del progressivo della forma
--!
CREATE  TRIGGER valida_progressivo
BEFORE  INSERT  ON Forma
BEGIN
	SELECT RAISE(ABORT, "Violazione del vincolo di unicità del codice della forma")
	WHERE EXISTS(SELECT * FROM Forma WHERE codiceCaseificio || substr(data,1, 4) || substr(data, 6, 2) || progressivo = NEW.codiceCaseificio || substr(NEW.data,1, 4) || substr(NEW.data, 6, 2) || NEW.progressivo);
END;

COMMIT;

--
-- END
--</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dml_inserimento_dei_dati_di_prova">DML - Inserimento dei dati di prova</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">--
-- Data (DML)
--
BEGIN TRANSACTION;

INSERT INTO Provincia (sigla, nome) VALUES
  ('AN', 'Ancona')
, ('AP', 'Ascoli Piceno')
, ('FM', 'Fermo')
, ('MC', 'Macerata')
, ('PU', 'Pesaro - Urbino')
, ('BAT', 'Barletta - Andria - Trani')
, ('CO', 'Como')
;

INSERT INTO Comune VALUES
  ('A271', 'Ancona', 'AN')
, ('H769', 'San Benedetto del Tronto', 'AP')
, ('C770', 'Civitanova Marche', 'MC')
, ('G416', 'Peglio', 'PU')
, ('G415', 'Peglio', 'CO')
, ('E388', 'Jesi', 'AN')
, ('A462', 'Ascoli Piceno', 'AP')
;

INSERT INTO Caseificio VALUES
  (3, 'La vergara', 'Contrada delle fonti', 'A271', 43.6054244, 13.5072524, 'Angela A.')
, (2, 'Sabelli', 'Zona Industriale Basso Marino', 'A462', 42.845522215273355, 13.659563784583172, 'Carlo C.')
, (1, 'Trevalli Cooperlat', 'via Piandelmedico, 74', 'E388', 43.4933437194598, 13.218457084482411, 'Barbara B.')
; 

INSERT INTO Fotografia VALUES
  (1, 3, 'https://lavergara.it/site/wp-content/uploads/2021/05/logo_vergara_2021.jpg')
, (2, 3, 'https://lavergara.it/site/wp-content/uploads/2021/05/PHN_4213_risultato.jpg')
, (3, 1, 'https://www.trevalli.cooperlat.it/res/layout/images/logo.png')
, (4, 1, 'https://www.trevalli.cooperlat.it/media/1237/valmetauro-fior-di-monte-pecorino-semistagionato.png')
;

INSERT INTO Raccolta VALUES
  (3, '2022-02-02', 123)
, (3, '2022-02-03', 120)
, (3, '2022-02-04', 127)
, (3, '2021-02-03', 120)
, (3, '2020-02-03', 120)
, (1, '2022-02-03', 120)
, (1, '2022-02-04', 130)
, (1, '2022-02-05', 125)
, (1, '2022-02-06', 127)
, (1, '2021-02-03', 120)
, (1, '2020-02-03', 120)
;

INSERT INTO Forma VALUES
  (1, 1, '2018-01-02', 5, 1)
, (2, 1, '2018-01-25', 12, 2)
, (3, 1, '2018-02-07', 7, 1)
, (4, 1, '2018-02-15', 13, 2)
, (5, 1, '2018-02-20', 11, 3)
, (6, 1, '2018-03-15', 13, 1)
, (7, 1, '2018-03-23', 3, 2)
, (8, 1, '2018-04-12', 11, 1)
, (9, 1, '2018-04-13', 2, 2)
, (10, 1, '2018-04-23', 3, 3)
, (11, 1, '2018-05-05', 9, 1)
, (12, 1, '2018-05-24', 9, 2)
, (13, 1, '2018-05-25', 3, 3)
, (14, 1, '2018-05-25', 3, 4)
, (15, 1, '2018-06-24', 8, 1)
, (16, 1, '2018-07-02', 5, 1)
, (17, 1, '2018-07-26', 10, 2)
, (18, 1, '2018-08-27', 5, 1)
, (19, 1, '2018-08-27', 9, 2)
, (20, 1, '2018-08-27', 14, 3)
, (21, 1, '2018-08-27', 9, 4)
, (22, 1, '2018-09-19', 3, 1)
, (23, 1, '2018-09-26', 2, 2)
, (24, 1, '2018-10-22', 5, 1)
, (25, 1, '2018-11-27', 10, 1)
, (26, 1, '2018-11-27', 12, 2)
, (27, 1, '2018-11-27', 14, 3)
, (28, 1, '2018-12-18', 14, 1)
, (29, 1, '2019-01-09', 1, 1)
, (30, 1, '2019-01-13', 7, 2)
, (31, 1, '2019-01-27', 4, 3)
, (32, 1, '2019-02-08', 7, 1)
, (33, 1, '2019-02-11', 3, 2)
, (34, 1, '2019-02-14', 2, 3)
, (35, 1, '2019-03-17', 12, 1)
, (36, 1, '2019-03-24', 5, 2)
, (37, 1, '2019-03-26', 11, 3)
, (38, 1, '2019-04-22', 5, 1)
, (39, 1, '2019-04-27', 3, 2)
, (40, 1, '2019-04-27', 7, 3)
, (41, 1, '2019-05-23', 9, 1)
, (42, 1, '2019-06-10', 3, 1)
, (43, 1, '2019-06-15', 7, 2)
, (44, 1, '2019-06-16', 7, 3)
, (45, 1, '2019-07-05', 14, 1)
, (46, 1, '2019-07-13', 8, 2)
, (47, 1, '2019-07-22', 7, 3)
, (48, 1, '2019-08-20', 3, 1)
, (49, 1, '2019-09-08', 6, 1)
, (50, 1, '2019-10-03', 10, 1)
, (51, 1, '2019-10-20', 3, 2)
, (52, 1, '2019-11-17', 8, 1)
, (53, 1, '2019-12-01', 10, 1)
, (54, 1, '2019-12-02', 13, 2)
, (55, 1, '2019-12-06', 4, 3)
, (56, 1, '2019-12-25', 14, 4)
, (57, 1, '2020-01-18', 12, 1)
, (58, 1, '2020-02-03', 5, 1)
, (59, 1, '2020-03-15', 1, 1)
, (60, 1, '2020-04-02', 8, 1)
, (61, 1, '2020-05-17', 10, 1)
, (62, 1, '2020-05-23', 2, 2)
, (63, 1, '2020-05-24', 11, 3)
, (64, 1, '2020-06-04', 12, 1)
, (65, 1, '2020-07-18', 11, 1)
, (66, 1, '2020-07-26', 11, 2)
, (67, 1, '2020-08-25', 13, 1)
, (68, 1, '2020-09-17', 2, 1)
, (69, 1, '2020-09-18', 8, 2)
, (70, 1, '2020-09-27', 1, 3)
, (71, 1, '2020-10-23', 7, 1)
, (72, 1, '2020-10-26', 9, 2)
, (73, 1, '2020-11-06', 6, 1)
, (74, 1, '2020-11-09', 14, 2)
, (75, 1, '2020-11-09', 8, 3)
, (76, 1, '2020-11-25', 14, 4)
, (77, 1, '2020-12-21', 12, 1)
, (78, 1, '2020-12-26', 7, 2)
, (79, 1, '2020-12-27', 4, 3)
, (80, 1, '2020-12-27', 5, 4)
, (81, 1, '2021-01-27', 10, 1)
, (82, 1, '2021-01-27', 11, 2)
, (83, 1, '2021-01-27', 1, 3)
, (84, 1, '2021-01-27', 7, 4)
, (85, 1, '2021-02-23', 10, 1)
, (86, 1, '2021-02-23', 9, 2)
, (87, 1, '2021-03-21', 1, 1)
, (88, 1, '2021-03-25', 4, 2)
, (89, 1, '2021-03-25', 8, 3)
, (90, 1, '2021-04-09', 7, 1)
, (91, 1, '2021-04-18', 7, 2)
, (92, 1, '2021-04-23', 9, 3)
, (93, 1, '2021-04-25', 6, 4)
, (94, 1, '2021-05-22', 7, 1)
, (95, 1, '2021-05-23', 2, 2)
, (96, 1, '2021-05-27', 5, 3)
, (97, 1, '2021-05-27', 3, 4)
, (98, 1, '2021-06-27', 5, 1)
, (99, 1, '2021-06-27', 2, 2)
, (100, 1, '2021-07-19', 3, 1)
, (101, 1, '2021-07-21', 2, 2)
, (102, 1, '2021-07-23', 8, 3)
, (103, 1, '2021-08-27', 3, 1)
, (104, 1, '2021-09-26', 10, 1)
, (105, 1, '2021-09-27', 11, 2)
, (106, 1, '2021-09-27', 10, 3)
, (107, 1, '2021-09-27', 10, 4)
, (108, 1, '2021-10-24', 4, 1)
, (109, 1, '2021-10-26', 5, 2)
, (110, 1, '2021-10-27', 12, 3)
, (111, 1, '2021-10-27', 1, 4)
, (112, 1, '2021-11-17', 8, 1)
, (113, 1, '2021-11-27', 10, 2)
, (114, 1, '2021-11-27', 3, 3)
, (115, 1, '2021-12-14', 9, 1)
, (116, 1, '2021-12-26', 5, 2)
, (117, 2, '2018-01-17', 10, 1)
, (118, 2, '2018-01-19', 9, 2)
, (119, 2, '2018-01-27', 13, 3)
, (120, 2, '2018-01-27', 9, 4)
, (121, 2, '2018-02-05', 8, 1)
, (122, 2, '2018-02-08', 3, 2)
, (123, 2, '2018-03-07', 9, 1)
, (124, 2, '2018-03-27', 14, 2)
, (125, 2, '2018-04-18', 1, 1)
, (126, 2, '2018-05-01', 10, 1)
, (127, 2, '2018-05-02', 14, 2)
, (128, 2, '2018-06-26', 14, 1)
, (129, 2, '2018-07-13', 14, 1)
, (130, 2, '2018-07-24', 12, 2)
, (131, 2, '2018-07-26', 7, 3)
, (132, 2, '2018-07-26', 4, 4)
, (133, 2, '2018-08-13', 3, 1)
, (134, 2, '2018-09-20', 3, 1)
, (135, 2, '2018-09-21', 6, 2)
, (136, 2, '2018-10-01', 10, 1)
, (137, 2, '2018-11-26', 12, 1)
, (138, 2, '2018-11-27', 7, 2)
, (139, 2, '2018-11-27', 4, 3)
, (140, 2, '2018-12-09', 11, 1)
, (141, 2, '2018-12-16', 6, 2)
, (142, 2, '2018-12-24', 12, 3)
, (143, 2, '2019-01-03', 12, 1)
, (144, 2, '2019-01-14', 1, 2)
, (145, 2, '2019-01-27', 11, 3)
, (146, 2, '2019-02-15', 5, 1)
, (147, 2, '2019-03-10', 11, 1)
, (148, 2, '2019-03-15', 3, 2)
, (149, 2, '2019-03-25', 2, 3)
, (150, 2, '2019-03-27', 14, 4)
, (151, 2, '2019-04-13', 11, 1)
, (152, 2, '2019-04-14', 9, 2)
, (153, 2, '2019-04-23', 1, 3)
, (154, 2, '2019-04-24', 3, 4)
, (155, 2, '2019-05-03', 14, 1)
, (156, 2, '2019-05-13', 11, 2)
, (157, 2, '2019-05-14', 11, 3)
, (158, 2, '2019-05-25', 8, 4)
, (159, 2, '2019-06-22', 7, 1)
, (160, 2, '2019-06-26', 5, 2)
, (161, 2, '2019-06-27', 13, 3)
, (162, 2, '2019-06-27', 5, 4)
, (163, 2, '2019-07-22', 13, 1)
, (164, 2, '2019-07-23', 1, 2)
, (165, 2, '2019-08-06', 11, 1)
, (166, 2, '2019-08-06', 13, 2)
, (167, 2, '2019-08-06', 9, 3)
, (168, 2, '2019-09-08', 8, 1)
, (169, 2, '2019-09-16', 8, 2)
, (170, 2, '2019-09-23', 9, 3)
, (171, 2, '2019-10-18', 6, 1)
, (172, 2, '2019-11-20', 4, 1)
, (173, 2, '2019-11-21', 11, 2)
, (174, 2, '2019-11-21', 3, 3)
, (175, 2, '2019-12-27', 8, 1)
, (176, 2, '2019-12-27', 14, 2)
, (177, 2, '2019-12-27', 8, 3)
, (178, 2, '2020-01-23', 4, 1)
, (179, 2, '2020-01-25', 14, 2)
, (180, 2, '2020-02-26', 6, 1)
, (181, 2, '2020-03-23', 7, 1)
, (182, 2, '2020-03-25', 12, 2)
, (183, 2, '2020-04-15', 1, 1)
, (184, 2, '2020-04-16', 1, 2)
, (185, 2, '2020-04-27', 4, 3)
, (186, 2, '2020-05-10', 9, 1)
, (187, 2, '2020-05-22', 7, 2)
, (188, 2, '2020-06-12', 12, 1)
, (189, 2, '2020-06-26', 5, 2)
, (190, 2, '2020-07-25', 14, 1)
, (191, 2, '2020-08-16', 5, 1)
, (192, 2, '2020-09-24', 13, 1)
, (193, 2, '2020-09-27', 1, 2)
, (194, 2, '2020-09-27', 2, 3)
, (195, 2, '2020-10-18', 10, 1)
, (196, 2, '2020-10-22', 6, 2)
, (197, 2, '2020-11-16', 12, 1)
, (198, 2, '2020-11-22', 7, 2)
, (199, 2, '2020-11-25', 7, 3)
, (200, 2, '2020-12-27', 7, 1)
, (201, 2, '2021-01-26', 2, 1)
, (202, 2, '2021-02-18', 10, 1)
, (203, 2, '2021-02-26', 14, 2)
, (204, 2, '2021-02-27', 1, 3)
, (205, 2, '2021-03-01', 4, 1)
, (206, 2, '2021-03-26', 1, 2)
, (207, 2, '2021-04-06', 3, 1)
, (208, 2, '2021-05-21', 9, 1)
, (209, 2, '2021-05-21', 2, 2)
, (210, 2, '2021-06-16', 8, 1)
, (211, 2, '2021-06-24', 9, 2)
, (212, 2, '2021-07-19', 9, 1)
, (213, 2, '2021-07-23', 9, 2)
, (214, 2, '2021-08-09', 13, 1)
, (215, 2, '2021-09-08', 3, 1)
, (216, 2, '2021-10-27', 12, 1)
, (217, 2, '2021-10-27', 1, 2)
, (218, 2, '2021-11-17', 6, 1)
, (219, 2, '2021-11-27', 8, 2)
, (220, 2, '2021-11-27', 14, 3)
, (221, 2, '2021-12-27', 9, 1)
, (222, 2, '2021-12-27', 11, 2)
, (223, 3, '2018-01-09', 10, 1)
, (224, 3, '2018-01-23', 11, 2)
, (225, 3, '2018-02-11', 4, 1)
, (226, 3, '2018-02-14', 5, 2)
, (227, 3, '2018-02-25', 10, 3)
, (228, 3, '2018-02-27', 13, 4)
, (229, 3, '2018-03-11', 13, 1)
, (230, 3, '2018-03-24', 8, 2)
, (231, 3, '2018-03-27', 5, 3)
, (232, 3, '2018-03-27', 6, 4)
, (233, 3, '2018-04-10', 11, 1)
, (234, 3, '2018-04-22', 4, 2)
, (235, 3, '2018-04-26', 2, 3)
, (236, 3, '2018-04-27', 10, 4)
, (237, 3, '2018-05-17', 13, 1)
, (238, 3, '2018-05-21', 2, 2)
, (239, 3, '2018-05-23', 11, 3)
, (240, 3, '2018-05-26', 14, 4)
, (241, 3, '2018-06-22', 8, 1)
, (242, 3, '2018-06-22', 3, 2)
, (243, 3, '2018-06-23', 6, 3)
, (244, 3, '2018-07-25', 7, 1)
, (245, 3, '2018-08-02', 2, 1)
, (246, 3, '2018-08-16', 7, 2)
, (247, 3, '2018-08-20', 1, 3)
, (248, 3, '2018-08-25', 2, 4)
, (249, 3, '2018-09-24', 2, 1)
, (250, 3, '2018-10-23', 2, 1)
, (251, 3, '2018-10-24', 9, 2)
, (252, 3, '2018-10-24', 8, 3)
, (253, 3, '2018-11-09', 9, 1)
, (254, 3, '2018-11-19', 2, 2)
, (255, 3, '2018-11-24', 2, 3)
, (256, 3, '2018-12-10', 11, 1)
, (257, 3, '2018-12-22', 2, 2)
, (258, 3, '2018-12-27', 4, 3)
, (259, 3, '2019-01-03', 5, 1)
, (260, 3, '2019-01-16', 13, 2)
, (261, 3, '2019-01-26', 2, 3)
, (262, 3, '2019-01-27', 8, 4)
, (263, 3, '2019-02-05', 11, 1)
, (264, 3, '2019-02-18', 13, 2)
, (265, 3, '2019-02-24', 1, 3)
, (266, 3, '2019-02-27', 14, 4)
, (267, 3, '2019-03-23', 7, 1)
, (268, 3, '2019-03-23', 4, 2)
, (269, 3, '2019-03-27', 12, 3)
, (270, 3, '2019-04-04', 5, 1)
, (271, 3, '2019-05-21', 3, 1)
, (272, 3, '2019-05-25', 1, 2)
, (273, 3, '2019-06-25', 4, 1)
, (274, 3, '2019-07-01', 4, 1)
, (275, 3, '2019-07-09', 6, 2)
, (276, 3, '2019-07-26', 2, 3)
, (277, 3, '2019-08-17', 5, 1)
, (278, 3, '2019-08-18', 6, 2)
, (279, 3, '2019-09-25', 12, 1)
, (280, 3, '2019-10-25', 13, 1)
, (281, 3, '2019-11-20', 7, 1)
, (282, 3, '2019-11-20', 3, 2)
, (283, 3, '2019-11-24', 8, 3)
, (284, 3, '2019-11-25', 4, 4)
, (285, 3, '2019-12-23', 4, 1)
, (286, 3, '2020-01-07', 12, 1)
, (287, 3, '2020-02-27', 6, 1)
, (288, 3, '2020-03-08', 1, 1)
, (289, 3, '2020-03-12', 14, 2)
, (290, 3, '2020-03-18', 5, 3)
, (291, 3, '2020-04-05', 12, 1)
, (292, 3, '2020-05-01', 5, 1)
, (293, 3, '2020-05-19', 3, 2)
, (294, 3, '2020-05-19', 3, 3)
, (295, 3, '2020-05-26', 2, 4)
, (296, 3, '2020-06-14', 8, 1)
, (297, 3, '2020-07-20', 9, 1)
, (298, 3, '2020-08-21', 13, 1)
, (299, 3, '2020-08-26', 10, 2)
, (300, 3, '2020-09-10', 3, 1)
, (301, 3, '2020-09-24', 3, 2)
, (302, 3, '2020-09-27', 2, 3)
, (303, 3, '2020-10-19', 12, 1)
, (304, 3, '2020-10-20', 13, 2)
, (305, 3, '2020-10-21', 5, 3)
, (306, 3, '2020-11-15', 13, 1)
, (307, 3, '2020-12-01', 8, 1)
, (308, 3, '2021-01-16', 13, 1)
, (309, 3, '2021-01-19', 7, 2)
, (310, 3, '2021-01-21', 14, 3)
, (311, 3, '2021-02-06', 6, 1)
, (312, 3, '2021-02-17', 8, 2)
, (313, 3, '2021-03-02', 1, 1)
, (314, 3, '2021-04-15', 7, 1)
, (315, 3, '2021-04-26', 7, 2)
, (316, 3, '2021-05-14', 4, 1)
, (317, 3, '2021-05-26', 9, 2)
, (318, 3, '2021-05-27', 13, 3)
, (319, 3, '2021-05-27', 14, 4)
, (320, 3, '2021-06-12', 7, 1)
, (321, 3, '2021-06-14', 9, 2)
, (322, 3, '2021-06-22', 10, 3)
, (323, 3, '2021-07-23', 4, 1)
, (324, 3, '2021-07-24', 14, 2)
, (325, 3, '2021-07-24', 12, 3)
, (326, 3, '2021-08-17', 5, 1)
, (327, 3, '2021-09-20', 6, 1)
, (328, 3, '2021-09-24', 5, 2)
, (329, 3, '2021-09-25', 5, 3)
, (330, 3, '2021-09-26', 11, 4)
, (331, 3, '2021-10-21', 5, 1)
, (332, 3, '2021-10-25', 10, 2)
, (333, 3, '2021-10-25', 6, 3)
, (334, 3, '2021-11-26', 2, 1)
, (335, 3, '2021-12-21', 3, 1)
, (336, 3, '2021-12-27', 9, 2)
, (337, 3, '2021-12-27', 3, 3)
, (338, 3, '2021-12-27', 10, 4)
;

INSERT INTO Acquirente VALUES
  ('Mario Rossi', 'privato')
, ('Paolo Rossi', 'grossista')
, ('Alcampo', 'grande distribuzione')
;

INSERT INTO Vendita VALUES
  (2, 'Paolo Rossi', '2020-01-11', 1, 12)
, (5, 'Paolo Rossi', '2020-01-02', 1, 24)
, (10, 'Paolo Rossi', '2020-01-19', 1, 36)
, (14, 'Paolo Rossi', '2020-01-05', 1, 36)
, (16, 'Mario Rossi', '2020-02-28', 2, 36)
, (17, 'Mario Rossi', '2020-02-03', 1, 30)
, (20, 'Mario Rossi', '2020-02-15', 1, 24)
, (23, 'Paolo Rossi', '2020-02-18', 1, 36)
, (28, 'Paolo Rossi', '2020-02-10', 2, 30)
, (32, 'Paolo Rossi', '2020-03-21', 1, 24)
, (36, 'Alcampo', '2020-03-28', 2, 24)
, (41, 'Paolo Rossi', '2020-03-21', 1, 12)
, (44, 'Paolo Rossi', '2020-03-19', 2, 12)
, (48, 'Paolo Rossi', '2020-03-15', 1, 30)
, (52, 'Alcampo', '2020-03-01', 1, 24)
, (57, 'Alcampo', '2020-04-22', 1, 24)
, (59, 'Paolo Rossi', '2020-04-28', 1, 36)
, (64, 'Paolo Rossi', '2020-04-19', 1, 12)
, (69, 'Paolo Rossi', '2020-04-20', 1, 24)
, (74, 'Alcampo', '2020-04-01', 1, 30)
, (79, 'Mario Rossi', '2020-05-26', 1, 36)
, (81, 'Mario Rossi', '2020-05-07', 1, 12)
, (86, 'Paolo Rossi', '2020-05-03', 1, 36)
, (91, 'Paolo Rossi', '2020-05-11', 1, 30)
, (95, 'Mario Rossi', '2020-05-26', 1, 24)
, (97, 'Mario Rossi', '2020-05-10', 1, 30)
, (100, 'Paolo Rossi', '2020-06-20', 2, 30)
, (105, 'Alcampo', '2020-06-20', 1, 24)
, (110, 'Paolo Rossi', '2020-06-24', 1, 24)
, (113, 'Paolo Rossi', '2020-07-17', 1, 24)
, (117, 'Paolo Rossi', '2020-07-18', 2, 30)
, (119, 'Paolo Rossi', '2020-07-07', 2, 12)
, (122, 'Alcampo', '2020-07-02', 1, 36)
, (124, 'Alcampo', '2020-07-16', 1, 36)
, (129, 'Alcampo', '2020-08-09', 2, 24)
, (132, 'Alcampo', '2020-08-01', 2, 36)
, (136, 'Mario Rossi', '2020-09-01', 2, 12)
, (140, 'Mario Rossi', '2020-09-01', 2, 12)
, (144, 'Paolo Rossi', '2020-09-23', 2, 30)
, (147, 'Alcampo', '2020-10-21', 1, 12)
, (152, 'Alcampo', '2020-10-12', 2, 24)
, (153, 'Mario Rossi', '2020-10-20', 1, 36)
, (158, 'Alcampo', '2020-11-26', 2, 24)
, (161, 'Mario Rossi', '2020-11-25', 1, 36)
, (163, 'Mario Rossi', '2020-12-08', 2, 24)
, (167, 'Mario Rossi', '2020-12-13', 2, 12)
, (170, 'Mario Rossi', '2020-12-20', 1, 30)
, (174, 'Alcampo', '2021-01-13', 1, 30)
, (176, 'Alcampo', '2021-01-12', 1, 30)
, (178, 'Paolo Rossi', '2021-01-14', 2, 30)
, (183, 'Paolo Rossi', '2021-01-24', 2, 24)
, (187, 'Alcampo', '2021-01-13', 1, 24)
, (191, 'Alcampo', '2021-02-25', 2, 12)
, (194, 'Mario Rossi', '2021-02-21', 2, 12)
, (196, 'Paolo Rossi', '2021-02-03', 1, 24)
, (201, 'Alcampo', '2021-02-15', 1, 36)
, (203, 'Mario Rossi', '2021-02-18', 2, 36)
, (204, 'Alcampo', '2021-03-28', 1, 30)
, (206, 'Mario Rossi', '2021-03-20', 2, 24)
, (208, 'Paolo Rossi', '2021-03-01', 2, 36)
, (213, 'Mario Rossi', '2021-04-23', 2, 36)
, (216, 'Mario Rossi', '2021-04-17', 1, 36)
, (218, 'Paolo Rossi', '2021-04-23', 1, 36)
, (222, 'Mario Rossi', '2021-04-19', 2, 24)
, (225, 'Mario Rossi', '2021-05-08', 2, 30)
, (230, 'Mario Rossi', '2021-05-02', 1, 36)
, (232, 'Paolo Rossi', '2021-05-10', 2, 24)
, (234, 'Paolo Rossi', '2021-06-17', 2, 24)
, (239, 'Paolo Rossi', '2021-06-08', 2, 36)
, (241, 'Mario Rossi', '2021-06-02', 1, 24)
, (243, 'Paolo Rossi', '2021-06-14', 2, 12)
, (247, 'Mario Rossi', '2021-06-17', 1, 36)
, (250, 'Paolo Rossi', '2021-06-28', 2, 30)
, (253, 'Mario Rossi', '2021-07-06', 2, 24)
, (257, 'Mario Rossi', '2021-07-23', 2, 24)
, (260, 'Mario Rossi', '2021-08-13', 2, 30)
, (264, 'Paolo Rossi', '2021-08-07', 2, 36)
, (267, 'Mario Rossi', '2021-08-11', 2, 30)
, (271, 'Mario Rossi', '2021-08-18', 1, 12)
, (272, 'Mario Rossi', '2021-08-20', 2, 36)
, (276, 'Paolo Rossi', '2021-09-22', 2, 12)
, (280, 'Paolo Rossi', '2021-09-07', 1, 24)
, (283, 'Mario Rossi', '2021-09-01', 1, 12)
, (287, 'Mario Rossi', '2021-09-08', 2, 36)
, (292, 'Mario Rossi', '2021-10-04', 1, 36)
, (297, 'Alcampo', '2021-10-25', 1, 24)
, (300, 'Mario Rossi', '2021-10-24', 2, 12)
, (304, 'Alcampo', '2021-11-23', 1, 12)
, (307, 'Alcampo', '2021-11-28', 1, 30)
, (312, 'Alcampo', '2021-11-23', 2, 24)
, (314, 'Paolo Rossi', '2021-12-10', 2, 30)
, (316, 'Alcampo', '2021-12-04', 1, 36)
, (320, 'Alcampo', '2021-12-16', 1, 30)
, (323, 'Paolo Rossi', '2021-12-06', 2, 24)
, (325, 'Paolo Rossi', '2021-12-05', 1, 12)
, (327, 'Paolo Rossi', '2021-12-16', 2, 30)
, (329, 'Alcampo', '2022-01-04', 1, 12)
, (332, 'Alcampo', '2022-01-06', 1, 24)
, (334, 'Alcampo', '2022-01-05', 1, 36)
, (336, 'Paolo Rossi', '2022-01-08', 2, 30)
, (338, 'Paolo Rossi', '2022-01-24', 2, 36)
;

COMMIT;

--
-- END
--</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dql_query">DQL - Query</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">--
-- Viste (DQL, DDL)
--

BEGIN TRANSACTION;

-- Visualizzare il numero di forme prodotte da ciascun caseificio
-- tra due date fornite
-- Nel programma la query va costruita con due parametri nella
-- clausola WHERE
CREATE VIEW q1 AS
SELECT nome, count(*) AS Numero
FROM Forma
    INNER JOIN Caseificio
        ON Forma.codiceCaseificio = Caseificio.codice
WHERE data BETWEEN '2021-02-03' AND '2021-03-04'
-- le date devono essere parametrizzate nell'applicazione
GROUP BY codiceCaseificio;


-- Visualizzare la media del latte lavorato giornalmente nell'anno
-- corrente dai caseifici provincia per provincia
CREATE VIEW q2 AS
SELECT AVG(quantita) AS mediaLatteRaccolto, provincia
FROM raccolta
    INNER JOIN Caseificio
        ON Raccolta.codice = Caseificio.codice
    INNER JOIN Comune
        ON Caseificio.comune = Comune.codice
WHERE substr(data, 1, 4) = substr(date(), 1, 4)
GROUP BY Comune.provincia;

-- Visualizzare i dati del caseificio che ha venduto il maggior numero
-- di forme di prima scelta in un anno impostato dall’utente
-- Nel programma la query va costruita con un parametro nella
-- clausola WHERE
CREATE VIEW q3 AS
SELECT *
FROM Caseificio
WHERE codice = 
(SELECT codiceCaseificio
FROM Vendita AS V
    INNER JOIN Forma AS F
        ON V.codiceForma = F.codice
    INNER JOIN Caseificio AS C
        ON F.codiceCaseificio = C.codice
WHERE
    V.scelta = 1
-- AND substr(V.data, 1, 4) = %1
GROUP BY C.codice
ORDER BY count(scelta) DESC
LIMIT 1);

-- Visualizzare l’elenco dei caseifici che, in un certo periodo
-- individuato da due date fornite dall’utente, hanno venduto
-- meno di 10 forme di seconda scelta
-- Nel programma la query va costruita con due parametri nella
-- clausola WHERE
CREATE VIEW q4 AS
SELECT C.nome
FROM Vendita AS V
    INNER JOIN Forma AS F
      ON V.codiceForma = F.codice
    INNER JOIN Caseificio AS C
      ON F.codiceCaseificio = C.codice
WHERE V.scelta = 2
    AND V.data
      BETWEEN '2000-01-01' AND '2022-12-31'
      -- le date vanno parametrizzate
GROUP BY C.codice
HAVING count(*) &lt; 10;

-- Calcolare la percentuale di forme di seconda scelta prodotte
-- annualmente da un certo caseificio (sul totale delle forme da
-- questi prodotte annualmente)
CREATE VIEW q5 AS
SELECT FormeTotali.nome,
       FormeTotali.anno,
       100 * Forme2aScelta.forme / FormeTotali.forme || " %"
       AS perc2scelta
FROM
  (
  SELECT C.nome,
    substr(F.data, 1, 4) AS anno,
    count(*) AS forme
  FROM Vendita AS V
    INNER JOIN Forma AS F ON V.codiceForma = F.codice
    INNER JOIN Caseificio AS C ON F.codiceCaseificio = C.codice
  GROUP BY C.codice, anno
  ) AS FormeTotali
    INNER JOIN
  (
  SELECT C.nome,
    substr(F.data, 1, 4) AS anno,
    count(*) AS forme
  FROM Vendita AS V
      INNER JOIN Forma AS F ON V.codiceForma = F.codice
      INNER JOIN Caseificio AS C ON F.codiceCaseificio = C.codice
  WHERE V.scelta = 2
  GROUP BY C.codice, anno
  ) AS Forme2aScelta
    ON FormeTotali.nome = Forme2aScelta.nome
      AND FormeTotali.anno = Forme2aScelta.anno;

COMMIT;

--
-- END
--</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_altre_query">Altre query</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">--
-- Calcolo della stagionatura
--
SELECT V.codiceForma,
    CASE
        WHEN julianday(V.data) - julianday(F.data) &lt; 24 * 30 THEN 12
        WHEN julianday(V.data) - julianday(F.data) &lt; 30 * 30 THEN 24
        WHEN julianday(V.data) - julianday(F.data) &lt; 36 * 30 THEN 30
        ELSE 36
    END AS stagionaturaEffettiva
FROM Vendita AS V
    INNER JOIN Forma AS F
        ON V.codiceForma = F.codice;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-02-16 00:35:17 +0100
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>